# ===========================================
# üóúÔ∏è Optimiseur de Fichiers Multim√©dia
# Configuration des variables d'environnement
# ===========================================

# =================== SERVEUR ===================
# Port d'√©coute du serveur
PORT=8000

# Environnement (development, production, test)
NODE_ENV=development

# URL de base de l'application
APP_URL=http://localhost:8000

# Secret pour JWT et sessions
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# =================== REDIS ===================
# URL compl√®te Redis (prioritaire si d√©finie)
REDIS_URL=redis://localhost:6379

# Ou configuration d√©taill√©e
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DATABASE=0

# =================== STOCKAGE ===================
# R√©pertoire temporaire pour les uploads
TEMP_DIR=/tmp/uploads

# Taille maximale des uploads (en bytes)
UPLOAD_MAX_SIZE=5368709120

# Dur√©e de r√©tention des fichiers temporaires (en secondes)
FILE_RETENTION=86400

# Intervalle de nettoyage automatique (en secondes)
CLEANUP_INTERVAL=3600

# Type de stockage (local, s3, gcs)
STORAGE_TYPE=local

# =================== AWS S3 (si STORAGE_TYPE=s3) ===================
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=eu-west-1
S3_BUCKET=your-bucket-name
S3_ENDPOINT=

# =================== GOOGLE CLOUD (si STORAGE_TYPE=gcs) ===================
GOOGLE_CLOUD_PROJECT_ID=your-project-id
GOOGLE_CLOUD_KEY_FILE=path/to/service-account.json
GCS_BUCKET=your-bucket-name

# =================== FFMPEG ===================
# Chemin vers l'ex√©cutable FFmpeg
FFMPEG_PATH=/usr/bin/ffmpeg

# Chemin vers l'ex√©cutable FFprobe
FFPROBE_PATH=/usr/bin/ffprobe

# Nombre de threads FFmpeg (-1 = auto)
FFMPEG_THREADS=-1

# =================== IMAGEMAGICK ===================
# Chemin vers l'ex√©cutable ImageMagick (optionnel)
IMAGEMAGICK_PATH=/usr/bin/convert

# =================== LOGGING ===================
# Niveau de log (error, warn, info, http, debug)
LOG_LEVEL=info

# R√©pertoire des logs (production uniquement)
LOG_DIR=./logs

# =================== S√âCURIT√â ===================
# Origines CORS autoris√©es (s√©par√©es par des virgules)
CORS_ORIGIN=http://localhost:3000,http://localhost:8080

# Limite de requ√™tes par minute par IP
RATE_LIMIT=100

# Taille maximale du body des requ√™tes
BODY_LIMIT=10mb

# Activer HTTPS en production
HTTPS_ENABLED=false

# Chemins des certificats SSL (si HTTPS_ENABLED=true)
SSL_CERT_PATH=
SSL_KEY_PATH=

# =================== AUTHENTIFICATION ===================
# Activer l'authentification (false pour usage libre)
AUTH_ENABLED=false

# Cl√© API pour l'acc√®s (si AUTH_ENABLED=true)
API_KEY=your-api-key

# Dur√©e de validit√© des tokens JWT (en secondes)
JWT_EXPIRES_IN=86400

# =================== MONITORING ===================
# Activer les m√©triques Prometheus
METRICS_ENABLED=false

# Port pour les m√©triques (si diff√©rent du port principal)
METRICS_PORT=9090

# Activer Sentry pour le monitoring des erreurs
SENTRY_DSN=

# =================== WORKERS ===================
# Nombre de workers pour le traitement
WORKER_CONCURRENCY=2

# D√©lai maximum pour un job (en secondes)
JOB_TIMEOUT=1800

# Nombre de tentatives en cas d'√©chec
JOB_ATTEMPTS=3

# =================== COMPRESSION ===================
# ===== Images =====
# Qualit√© par d√©faut pour les images (1-100)
DEFAULT_IMAGE_QUALITY=80

# R√©solution maximale par d√©faut
DEFAULT_MAX_WIDTH=1920
DEFAULT_MAX_HEIGHT=1080

# Format par d√©faut ('auto' pour conserver l'original)
DEFAULT_IMAGE_FORMAT=auto

# ===== Vid√©os =====
# Codec vid√©o par d√©faut
DEFAULT_VIDEO_CODEC=h264

# CRF par d√©faut (18-51, plus bas = meilleure qualit√©)
DEFAULT_VIDEO_CRF=23

# Preset FFmpeg par d√©faut
DEFAULT_VIDEO_PRESET=medium

# Bitrate maximum par d√©faut
DEFAULT_VIDEO_BITRATE=2M

# ===== Audio =====
# Codec audio par d√©faut
DEFAULT_AUDIO_CODEC=aac

# Bitrate audio par d√©faut
DEFAULT_AUDIO_BITRATE=128k

# Fr√©quence d'√©chantillonnage par d√©faut
DEFAULT_AUDIO_SAMPLE_RATE=44100

# ===== Documents =====
# Qualit√© par d√©faut pour les PDFs (1-100)
DEFAULT_PDF_QUALITY=80

# =================== D√âVELOPPEMENT ===================
# Activer le mode debug
DEBUG=false

# Conserver les fichiers temporaires (utile pour debug)
KEEP_TEMP_FILES=false

# Activer les logs d√©taill√©s
VERBOSE_LOGS=false

# Port pour le hot reload (d√©veloppement)
DEV_PORT=3000

# =================== DOCKER ===================
# Configuration pour Docker Compose
COMPOSE_PROJECT_NAME=file-optimizer

# Version de l'image Docker
DOCKER_TAG=latest

# =================== BACKUP ===================
# Activer les sauvegardes automatiques
BACKUP_ENABLED=false

# R√©pertoire de sauvegarde
BACKUP_DIR=./backups

# Intervalle de sauvegarde (en secondes)
BACKUP_INTERVAL=86400

# Nombre de sauvegardes √† conserver
BACKUP_RETENTION=7

# =================== HEALTH CHECK ===================
# Intervalle de v√©rification de sant√© (en secondes)
HEALTH_CHECK_INTERVAL=30

# Timeout pour les v√©rifications (en secondes)
HEALTH_CHECK_TIMEOUT=5

# =================== PERFORMANCE ===================
# Limite m√©moire pour Sharp (en MB)
SHARP_MEMORY_LIMIT=512

# Cache Sharp (true/false)
SHARP_CACHE=true

# Limite de concurrence Sharp
SHARP_CONCURRENCY=4

# =================== WEBHOOKS ===================
# URL de webhook pour notifications (optionnel)
WEBHOOK_URL=

# Secret pour signer les webhooks
WEBHOOK_SECRET=

# =================== NOTIFICATIONS ===================
# Configuration email (pour notifications d'erreurs)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@file-optimizer.local

# Configuration Slack (pour notifications)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#file-optimizer

# =================== ANALYTICS ===================
# Google Analytics ID (optionnel)
GA_TRACKING_ID=

# Activer la collecte de statistiques anonymes
ANALYTICS_ENABLED=false

# =================== EXEMPLES DE VALEURS ===================
# Exemple pour un environnement de d√©veloppement local :
# PORT=8000
# NODE_ENV=development
# REDIS_URL=redis://localhost:6379
# TEMP_DIR=/tmp/uploads
# LOG_LEVEL=debug
# CORS_ORIGIN=http://localhost:3000

# Exemple pour un environnement de production :
# PORT=8000
# NODE_ENV=production
# REDIS_URL=redis://prod-redis:6379
# TEMP_DIR=/app/uploads
# LOG_LEVEL=info
# CORS_ORIGIN=https://your-domain.com
# HTTPS_ENABLED=true
# SSL_CERT_PATH=/etc/ssl/certs/cert.pem
# SSL_KEY_PATH=/etc/ssl/private/key.pem